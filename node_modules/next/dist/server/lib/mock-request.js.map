{"version":3,"sources":["../../../src/server/lib/mock-request.ts"],"names":["MockedRequest","MockedResponse","createRequestResponseMocks","Stream","Readable","constructor","url","headers","method","socket","readable","httpVersion","httpVersionMajor","httpVersionMinor","Proxy","get","_target","prop","Error","bodyReadable","on","emit","headersDistinct","key","value","Object","entries","Array","isArray","_read","size","connection","aborted","complete","trailers","trailersDistinct","rawTrailers","rawHeaders","setTimeout","Writable","res","statusMessage","finished","headersSent","buffers","statusCode","fromNodeOutgoingHttpHeaders","Headers","headPromise","Promise","resolve","headPromiseResolve","hasStreamed","reject","err","then","val","resWriter","appendHeader","name","values","v","append","isSent","write","chunk","push","Buffer","isBuffer","from","end","arguments","_implicitHeader","_write","_encoding","callback","writeHead","length","i","setHeader","hasHeader","has","getHeader","undefined","getHeaders","toNodeOutgoingHttpHeaders","getHeaderNames","keys","delete","set","toString","removeHeader","flushHeaders","strictContentLength","writeEarlyHints","req","assignSocket","detachSocket","writeContinue","writeProcessing","upgrading","chunkedEncoding","shouldKeepAlive","useChunkedEncodingByDefault","sendDate","addTrailers"],"mappings":";;;;;;;;;;;;;;;;IAwBaA,aAAa;eAAbA;;IAwHAC,cAAc;eAAdA;;IA2SGC,0BAA0B;eAA1BA;;;+DAjbG;uBAIZ;;;;;;AAUA,MAAMF,sBAAsBG,eAAM,CAACC,QAAQ;IA4BhDC,YAAY,EACVC,GAAG,EACHC,OAAO,EACPC,MAAM,EACNC,SAAS,IAAI,EACbC,QAAQ,EACa,CAAE;QACvB,KAAK;QA5BP,8EAA8E;aAC9DC,cAAc;aACdC,mBAAmB;aACnBC,mBAAmB;QAInC,qEAAqE;QACrE,qDAAqD;aAC9CJ,SAAiB,IAAIK,MAAiB,CAAC,GAAgB;YAC5DC,KAAK,CAACC,SAASC;gBACb,IAAIA,SAAS,aAAa;oBACxB,MAAM,IAAIC,MAAM;gBAClB;gBAEA,0EAA0E;gBAC1E,kDAAkD;gBAClD,OAAO;YACT;QACF;QAWE,IAAI,CAACZ,GAAG,GAAGA;QACX,IAAI,CAACC,OAAO,GAAGA;QACf,IAAI,CAACC,MAAM,GAAGA;QAEd,IAAIE,UAAU;YACZ,IAAI,CAACS,YAAY,GAAGT;YACpB,IAAI,CAACS,YAAY,CAACC,EAAE,CAAC,OAAO,IAAM,IAAI,CAACC,IAAI,CAAC;YAC5C,IAAI,CAACF,YAAY,CAACC,EAAE,CAAC,SAAS,IAAM,IAAI,CAACC,IAAI,CAAC;QAChD;QAEA,IAAIZ,QAAQ;YACV,IAAI,CAACA,MAAM,GAAGA;QAChB;IACF;IAEA,IAAWa,kBAAyC;QAClD,MAAMf,UAAiC,CAAC;QACxC,KAAK,MAAM,CAACgB,KAAKC,MAAM,IAAIC,OAAOC,OAAO,CAAC,IAAI,CAACnB,OAAO,EAAG;YACvD,IAAI,CAACiB,OAAO;YAEZjB,OAAO,CAACgB,IAAI,GAAGI,MAAMC,OAAO,CAACJ,SAASA,QAAQ;gBAACA;aAAM;QACvD;QAEA,OAAOjB;IACT;IAEOsB,MAAMC,IAAY,EAAQ;QAC/B,IAAI,IAAI,CAACX,YAAY,EAAE;YACrB,OAAO,IAAI,CAACA,YAAY,CAACU,KAAK,CAACC;QACjC,OAAO;YACL,IAAI,CAACT,IAAI,CAAC;YACV,IAAI,CAACA,IAAI,CAAC;QACZ;IACF;IAEA;;;;GAIC,GACD,IAAWU,aAAqB;QAC9B,OAAO,IAAI,CAACtB,MAAM;IACpB;IAEA,wEAAwE;IACxE,oBAAoB;IAEpB,IAAWuB,UAAmB;QAC5B,MAAM,IAAId,MAAM;IAClB;IAEA,IAAWe,WAAoB;QAC7B,MAAM,IAAIf,MAAM;IAClB;IAEA,IAAWgB,WAAgC;QACzC,MAAM,IAAIhB,MAAM;IAClB;IAEA,IAAWiB,mBAA0C;QACnD,MAAM,IAAIjB,MAAM;IAClB;IAEA,IAAWkB,cAAwB;QACjC,MAAM,IAAIlB,MAAM;IAClB;IAEA,IAAWmB,aAAuB;QAChC,MAAM,IAAInB,MAAM;IAClB;IAEOoB,aAAmB;QACxB,MAAM,IAAIpB,MAAM;IAClB;AACF;AASO,MAAMjB,uBAAuBE,eAAM,CAACoC,QAAQ;IAkCjDlC,YAAYmC,MAA6B,CAAC,CAAC,CAAE;QAC3C,KAAK;aAjCAC,gBAAwB;aACxBC,WAAW;aACXC,cAAc;QAUrB;;;;GAIC,QACeC,UAAoB,EAAE;QAkBpC,IAAI,CAACC,UAAU,GAAGL,IAAIK,UAAU,IAAI;QACpC,IAAI,CAACpC,MAAM,GAAG+B,IAAI/B,MAAM,IAAI;QAC5B,IAAI,CAACF,OAAO,GAAGiC,IAAIjC,OAAO,GACtBuC,IAAAA,kCAA2B,EAACN,IAAIjC,OAAO,IACvC,IAAIwC;QAER,IAAI,CAACC,WAAW,GAAG,IAAIC,QAAc,CAACC;YACpC,IAAI,CAACC,kBAAkB,GAAGD;QAC5B;QAEA,sEAAsE;QACtE,6BAA6B;QAC7B,IAAI,CAACE,WAAW,GAAG,IAAIH,QAAiB,CAACC,SAASG;YAChD,IAAI,CAACjC,EAAE,CAAC,UAAU,IAAM8B,QAAQ;YAChC,IAAI,CAAC9B,EAAE,CAAC,OAAO,IAAM8B,QAAQ;YAC7B,IAAI,CAAC9B,EAAE,CAAC,SAAS,CAACkC,MAAQD,OAAOC;QACnC,GAAGC,IAAI,CAAC,CAACC;gBACP,0BAAA;aAAA,2BAAA,CAAA,QAAA,IAAI,EAACL,kBAAkB,qBAAvB,8BAAA;YACA,OAAOK;QACT;QAEA,IAAIhB,IAAIiB,SAAS,EAAE;YACjB,IAAI,CAACA,SAAS,GAAGjB,IAAIiB,SAAS;QAChC;IACF;IAEOC,aAAaC,IAAY,EAAEnC,KAAwB,EAAQ;QAChE,MAAMoC,SAASjC,MAAMC,OAAO,CAACJ,SAASA,QAAQ;YAACA;SAAM;QACrD,KAAK,MAAMqC,KAAKD,OAAQ;YACtB,IAAI,CAACrD,OAAO,CAACuD,MAAM,CAACH,MAAME;QAC5B;QAEA,OAAO,IAAI;IACb;IAEA;;;;GAIC,GACD,IAAWE,SAAS;QAClB,OAAO,IAAI,CAACrB,QAAQ,IAAI,IAAI,CAACC,WAAW;IAC1C;IAEA;;;;GAIC,GACD,IAAWZ,aAA4B;QACrC,OAAO,IAAI,CAACtB,MAAM;IACpB;IAEOuD,MAAMC,KAAmC,EAAE;QAChD,IAAI,IAAI,CAACR,SAAS,EAAE;YAClB,OAAO,IAAI,CAACA,SAAS,CAACQ;QACxB;QACA,IAAI,CAACrB,OAAO,CAACsB,IAAI,CAACC,OAAOC,QAAQ,CAACH,SAASA,QAAQE,OAAOE,IAAI,CAACJ;QAE/D,OAAO;IACT;IAEOK,MAAM;QACX,IAAI,CAAC5B,QAAQ,GAAG;QAChB,OAAO,KAAK,CAAC4B,OAAOC;IACtB;IAEA;;;;;;GAMC,GACD,AAAOC,kBAAkB,CAAC;IAEnBC,OACLR,KAAsB,EACtBS,SAAiB,EACjBC,QAAoB,EACpB;QACA,IAAI,CAACX,KAAK,CAACC;QAEX,sEAAsE;QACtE,wEAAwE;QACxE,mDAAmD;QACnD,EAAE;QACF,6FAA6F;QAC7FU;IACF;IAWOC,UACL/B,UAAkB,EAClBJ,aAIa,EACblC,OAAgE,EAC1D;YAqCN,0BAAA;QApCA,IAAI,CAACA,WAAW,OAAOkC,kBAAkB,UAAU;YACjDlC,UAAUkC;QACZ,OAAO,IAAI,OAAOA,kBAAkB,YAAYA,cAAcoC,MAAM,GAAG,GAAG;YACxE,IAAI,CAACpC,aAAa,GAAGA;QACvB;QAEA,IAAIlC,SAAS;YACX,qEAAqE;YACrE,mEAAmE;YACnE,2DAA2D;YAC3D,EAAE;YACF,qFAAqF;YACrF,EAAE;YACF,uEAAuE;YACvE,kCAAkC;YAClC,IAAIoB,MAAMC,OAAO,CAACrB,UAAU;gBAC1B,0EAA0E;gBAC1E,oEAAoE;gBACpE,sEAAsE;gBACtE,qDAAqD;gBACrD,IAAK,IAAIuE,IAAI,GAAGA,IAAIvE,QAAQsE,MAAM,EAAEC,KAAK,EAAG;oBAC1C,2DAA2D;oBAC3D,IAAI,CAACC,SAAS,CAACxE,OAAO,CAACuE,EAAE,EAAYvE,OAAO,CAACuE,IAAI,EAAE;gBACrD;YACF,OAAO;gBACL,KAAK,MAAM,CAACvD,KAAKC,MAAM,IAAIC,OAAOC,OAAO,CAACnB,SAAU;oBAClD,wBAAwB;oBACxB,IAAI,OAAOiB,UAAU,aAAa;oBAElC,IAAI,CAACuD,SAAS,CAACxD,KAAKC;gBACtB;YACF;QACF;QAEA,IAAI,CAACqB,UAAU,GAAGA;QAClB,IAAI,CAACF,WAAW,GAAG;SACnB,2BAAA,CAAA,QAAA,IAAI,EAACQ,kBAAkB,qBAAvB,8BAAA;QAEA,OAAO,IAAI;IACb;IAEO6B,UAAUrB,IAAY,EAAW;QACtC,OAAO,IAAI,CAACpD,OAAO,CAAC0E,GAAG,CAACtB;IAC1B;IAEOuB,UAAUvB,IAAY,EAAsB;QACjD,OAAO,IAAI,CAACpD,OAAO,CAACQ,GAAG,CAAC4C,SAASwB;IACnC;IAEOC,aAAkC;QACvC,OAAOC,IAAAA,gCAAyB,EAAC,IAAI,CAAC9E,OAAO;IAC/C;IAEO+E,iBAA2B;QAChC,OAAO3D,MAAM0C,IAAI,CAAC,IAAI,CAAC9D,OAAO,CAACgF,IAAI;IACrC;IAEOR,UAAUpB,IAAY,EAAEnC,KAAyB,EAAE;QACxD,IAAIG,MAAMC,OAAO,CAACJ,QAAQ;YACxB,qEAAqE;YACrE,uEAAuE;YACvE,IAAI,CAACjB,OAAO,CAACiF,MAAM,CAAC7B;YAEpB,KAAK,MAAME,KAAKrC,MAAO;gBACrB,IAAI,CAACjB,OAAO,CAACuD,MAAM,CAACH,MAAME;YAC5B;QACF,OAAO,IAAI,OAAOrC,UAAU,UAAU;YACpC,IAAI,CAACjB,OAAO,CAACkF,GAAG,CAAC9B,MAAMnC,MAAMkE,QAAQ;QACvC,OAAO;YACL,IAAI,CAACnF,OAAO,CAACkF,GAAG,CAAC9B,MAAMnC;QACzB;QAEA,OAAO,IAAI;IACb;IAEOmE,aAAahC,IAAY,EAAQ;QACtC,IAAI,CAACpD,OAAO,CAACiF,MAAM,CAAC7B;IACtB;IAEOiC,eAAqB;IAC1B,uEAAuE;IACvE,cAAc;IAChB;IAEA,wEAAwE;IACxE,oBAAoB;IAEpB,IAAWC,sBAA+B;QACxC,MAAM,IAAI3E,MAAM;IAClB;IAEO4E,kBAAkB;QACvB,MAAM,IAAI5E,MAAM;IAClB;IAEA,IAAW6E,MAAuB;QAChC,MAAM,IAAI7E,MAAM;IAClB;IAEO8E,eAAe;QACpB,MAAM,IAAI9E,MAAM;IAClB;IAEO+E,eAAqB;QAC1B,MAAM,IAAI/E,MAAM;IAClB;IAEOgF,gBAAsB;QAC3B,MAAM,IAAIhF,MAAM;IAClB;IAEOiF,kBAAwB;QAC7B,MAAM,IAAIjF,MAAM;IAClB;IAEA,IAAWkF,YAAqB;QAC9B,MAAM,IAAIlF,MAAM;IAClB;IAEA,IAAWmF,kBAA2B;QACpC,MAAM,IAAInF,MAAM;IAClB;IAEA,IAAWoF,kBAA2B;QACpC,MAAM,IAAIpF,MAAM;IAClB;IAEA,IAAWqF,8BAAuC;QAChD,MAAM,IAAIrF,MAAM;IAClB;IAEA,IAAWsF,WAAoB;QAC7B,MAAM,IAAItF,MAAM;IAClB;IAEOoB,aAAmB;QACxB,MAAM,IAAIpB,MAAM;IAClB;IAEOuF,cAAoB;QACzB,MAAM,IAAIvF,MAAM;IAClB;AACF;AAWO,SAAShB,2BAA2B,EACzCI,GAAG,EACHC,UAAU,CAAC,CAAC,EACZC,SAAS,KAAK,EACdW,YAAY,EACZsC,SAAS,EACThD,SAAS,IAAI,EACgB;IAC7B,OAAO;QACLsF,KAAK,IAAI/F,cAAc;YACrBM;YACAC;YACAC;YACAC;YACAC,UAAUS;QACZ;QACAqB,KAAK,IAAIvC,eAAe;YAAEQ;YAAQgD;QAAU;IAC9C;AACF"}