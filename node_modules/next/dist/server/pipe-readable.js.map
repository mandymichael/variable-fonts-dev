{"version":3,"sources":["../../src/server/pipe-readable.ts"],"names":["isAbortError","pipeToNodeResponse","e","name","ResponseAbortedName","createWriterFromResponse","res","started","drained","DetachedPromise","onDrain","resolve","on","once","off","finished","WritableStream","write","chunk","flushHeaders","ok","flush","promise","err","end","Error","cause","abort","writableFinished","destroy","close","readable","errored","destroyed","controller","createAbortController","writer","pipeTo","signal"],"mappings":";;;;;;;;;;;;;;;IAQgBA,YAAY;eAAZA;;IA8EMC,kBAAkB;eAAlBA;;;6BAjFf;iCACyB;AAEzB,SAASD,aAAaE,CAAM;IACjC,OAAOA,CAAAA,qBAAAA,EAAGC,IAAI,MAAK,gBAAgBD,CAAAA,qBAAAA,EAAGC,IAAI,MAAKC,gCAAmB;AACpE;AAEA,SAASC,yBACPC,GAAmB;IAEnB,IAAIC,UAAU;IAEd,wEAAwE;IACxE,wDAAwD;IACxD,IAAIC,UAAU,IAAIC,gCAAe;IACjC,SAASC;QACPF,QAAQG,OAAO;IACjB;IACAL,IAAIM,EAAE,CAAC,SAASF;IAEhB,0EAA0E;IAC1E,eAAe;IACfJ,IAAIO,IAAI,CAAC,SAAS;QAChBP,IAAIQ,GAAG,CAAC,SAASJ;QACjBF,QAAQG,OAAO;IACjB;IAEA,yEAAyE;IACzE,kDAAkD;IAClD,MAAMI,WAAW,IAAIN,gCAAe;IACpCH,IAAIO,IAAI,CAAC,UAAU;QACjBE,SAASJ,OAAO;IAClB;IAEA,4DAA4D;IAC5D,OAAO,IAAIK,eAA2B;QACpCC,OAAO,OAAOC;YACZ,0EAA0E;YAC1E,wEAAwE;YACxE,0BAA0B;YAC1B,IAAI,CAACX,SAAS;gBACZA,UAAU;gBACVD,IAAIa,YAAY;YAClB;YAEA,IAAI;gBACF,MAAMC,KAAKd,IAAIW,KAAK,CAACC;gBAErB,sEAAsE;gBACtE,yDAAyD;gBACzD,IAAI,WAAWZ,OAAO,OAAOA,IAAIe,KAAK,KAAK,YAAY;oBACrDf,IAAIe,KAAK;gBACX;gBAEA,qEAAqE;gBACrE,8CAA8C;gBAC9C,IAAI,CAACD,IAAI;oBACP,MAAMZ,QAAQc,OAAO;oBAErB,0EAA0E;oBAC1Ed,UAAU,IAAIC,gCAAe;gBAC/B;YACF,EAAE,OAAOc,KAAK;gBACZjB,IAAIkB,GAAG;gBACP,MAAM,IAAIC,MAAM,qCAAqC;oBAAEC,OAAOH;gBAAI;YACpE;QACF;QACAI,OAAO,CAACJ;YACN,IAAIjB,IAAIsB,gBAAgB,EAAE;YAE1BtB,IAAIuB,OAAO,CAACN;QACd;QACAO,OAAO;YACL,IAAIxB,IAAIsB,gBAAgB,EAAE;YAE1BtB,IAAIkB,GAAG;YACP,OAAOT,SAASO,OAAO;QACzB;IACF;AACF;AAEO,eAAerB,mBACpB8B,QAAoC,EACpCzB,GAAmB;IAEnB,IAAI;QACF,6DAA6D;QAC7D,MAAM,EAAE0B,OAAO,EAAEC,SAAS,EAAE,GAAG3B;QAC/B,IAAI0B,WAAWC,WAAW;QAE1B,wEAAwE;QACxE,sBAAsB;QACtB,MAAMC,aAAaC,IAAAA,kCAAqB,EAAC7B;QAEzC,MAAM8B,SAAS/B,yBAAyBC;QAExC,MAAMyB,SAASM,MAAM,CAACD,QAAQ;YAAEE,QAAQJ,WAAWI,MAAM;QAAC;IAC5D,EAAE,OAAOf,KAAU;QACjB,wDAAwD;QACxD,IAAIvB,aAAauB,MAAM;QAEvB,MAAM,IAAIE,MAAM,2BAA2B;YAAEC,OAAOH;QAAI;IAC1D;AACF"}