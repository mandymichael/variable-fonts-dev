{"version":3,"sources":["../../../../src/build/webpack/plugins/flight-client-entry-plugin.ts"],"names":["webpack","stringify","path","sources","getInvalidator","getEntries","EntryTypes","getEntryKey","WEBPACK_LAYERS","APP_CLIENT_INTERNALS","BARREL_OPTIMIZATION_PREFIX","COMPILER_NAMES","EDGE_RUNTIME_WEBPACK","SERVER_REFERENCE_MANIFEST","getActions","generateActionId","isClientComponentEntryModule","isCSSMod","regexCSS","traverseModules","forEachEntryModule","normalizePathSep","getProxiedPluginState","semver","generateRandomActionKeyRaw","PLUGIN_NAME","pluginState","serverActions","edgeServerActions","actionModServerId","actionModEdgeServerId","serverModuleIds","edgeServerModuleIds","ASYNC_CLIENT_MODULES","injectedClientEntries","deduplicateCSSImportsForEntry","mergedCSSimports","sortedCSSImports","Object","entries","sort","a","b","aPath","bPath","aDepth","split","length","bDepth","aName","parse","name","bName","indexA","indexOf","indexB","dedupedCSSImports","trackedCSSImports","Set","entryName","cssImports","cssImport","has","filename","includes","add","push","FlightClientEntryPlugin","constructor","options","dev","appDir","isEdgeServer","serverActionsBodySizeLimit","assetPrefix","apply","compiler","hooks","compilation","tap","normalModuleFactory","dependencyFactories","set","dependencies","ModuleDependency","dependencyTemplates","NullDependency","Template","finishMake","tapPromise","createClientEntries","afterCompile","recordModule","modId","mod","modPath","matchResource","resourceResolveData","modQuery","query","modResource","resource","layer","serverSideRendering","ssrNamedModuleId","relative","context","startsWith","replace","_chunk","_chunkGroup","request","buildInfo","rsc","moduleGraph","isAsync","String","make","processAssets","stage","Compilation","PROCESS_ASSETS_STAGE_OPTIMIZE_HASH","assets","createActionAssets","addClientEntryAndSSRModulesList","createdSSRDependenciesForEntry","addActionEntryList","actionMapsPerEntry","entryModule","internalClientComponentEntryImports","actionEntryImports","Map","clientEntriesToInject","connection","getOutgoingConnections","entryRequest","dependency","clientComponentImports","actionImports","collectComponentInfoFromServerEntryDependency","resolvedModule","forEach","dep","names","isAbsoluteRequest","isAbsolute","value","relativeRequest","bundlePath","assign","absolutePagePath","clientEntryToInject","injected","injectClientEntryAndSSRModules","clientImports","size","createdActions","actionNames","actionName","injectActionEntry","actions","finishModules","addedClientActionEntryList","actionMapsPerClientEntry","ssrEntryDepdendencies","collectClientActionsFromDependencies","remainingClientImportedActions","remainingActionEntryImports","remainingActionNames","id","fromClient","Promise","all","invalidator","outputPath","some","shouldInvalidate","invalidate","client","map","addClientEntryAndSSRModules","collectedActions","visitedModule","visitedEntry","collectActions","collectActionsInDep","modRequest","entryDependency","ssrEntryModule","getResolvedModule","visited","CSSImports","filterClientComponents","isCSS","_identifier","sideEffectFree","factoryMeta","unused","getExportsInfo","isModuleUsed","Array","from","loaderOptions","modules","test","localeCompare","server","clientLoader","importPath","sep","clientSSRLoader","pageKey","type","CHILD_ENTRY","parentEntries","absoluteEntryFilePath","dispose","lastActiveTime","Date","now","entryData","clientComponentEntryDep","EntryPlugin","createDependency","addEntry","actionsArray","lt","process","version","errors","WebpackError","resolve","actionLoader","JSON","__client_imported__","currentCompilerServerActions","p","workers","actionBrowser","reactServerComponents","actionEntryDep","reject","entry","get","includeDependencies","call","addModuleTree","contextInfo","issuerLayer","err","module","failedEntry","succeedEntry","chunkGroup","mapping","action","json","node","edge","encryptionKey","undefined","RawSource"],"mappings":"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"}