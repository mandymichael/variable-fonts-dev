{"version":3,"sources":["../../../../src/server/lib/router-utils/resolve-routes.ts"],"names":["url","path","setupDebug","getCloneableBody","filterReqHeaders","ipcForbiddenHeaders","stringifyQuery","formatHostname","toNodeOutgoingHttpHeaders","isAbortError","getHostname","getRedirectStatus","normalizeRepeatedSlashes","relativizeURL","addPathPrefix","pathHasPrefix","detectDomainLocale","normalizeLocalePath","removePathPrefix","NextDataPathnameNormalizer","BasePathPathnameNormalizer","PostponedPathnameNormalizer","addRequestMeta","compileNonPath","matchHas","prepareDestination","createRequestResponseMocks","debug","getResolveRoutes","fsChecker","config","opts","renderServer","renderServerOpts","ensureMiddleware","routes","match","name","minimalMode","headers","redirects","rewrites","beforeFiles","afterFiles","check","fallback","resolveRoutes","req","res","isUpgradeReq","invokedOutputs","finished","resHeaders","matchedOutput","parsedUrl","parse","didRewrite","urlParts","split","urlNoQuery","statusCode","protocol","socket","encrypted","initUrl","experimental","trustHostHeader","host","port","hostname","query","maybeAddTrailingSlash","pathname","trailingSlash","skipMiddlewareUrlNormalize","endsWith","domainLocale","defaultLocale","initialLocaleResult","undefined","i18n","hadTrailingSlash","hadBasePath","basePath","locales","domains","__nextDefaultLocale","__nextLocale","detectedLocale","startsWith","checkLocaleApi","checkTrue","has","output","getItem","useFileSystemPublicRoutes","type","dynamicRoutes","getDynamicRoutes","curPathname","substring","length","localeResult","handleLocale","route","page","params","pageOutput","__nextDataReq","normalizers","data","buildId","postponed","ppr","handleRoute","internal","isDefaultLocale","missing","hasParams","Object","assign","interceptionRoutes","interceptionRoute","result","getMiddlewareMatchers","normalized","normalize","updated","posix","join","locale","then","catch","serverResult","initialize","Error","invokeHeaders","middlewareRes","bodyStream","readableController","mockedRes","method","resWriter","chunk","enqueue","Buffer","from","on","close","requestHandler","err","response","status","body","ReadableStream","start","controller","e","closed","middlewareHeaders","overriddenHeaders","Set","overrideHeaders","key","add","trim","keys","valueKey","newValue","oldValue","value","entries","includes","rel","curLocaleResult","destination","parsedDestination","appendParamsToQuery","search","header","toLowerCase","Array","isArray","val","push"],"mappings":"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"}