{"version":3,"sources":["../../src/export/index.ts"],"names":["ExportError","exportAppImpl","exportApp","divideSegments","number","segments","result","dividedNumber","Math","floor","push","createProgress","total","label","Error","currentSegmentTotal","shift","currentSegmentCount","lastProgressOutput","Date","now","curProgress","progressSpinner","createSpinner","spinner","frames","interval","isFinished","newText","Log","prefixes","event","info","process","stdout","isTTY","text","console","log","stop","code","setupWorkers","options","nextConfig","exportPageWorker","pages","app","exportAppPageWorker","end","endWorker","Promise","resolve","threads","experimental","cpus","silent","buildExport","timeout","staticPageGenerationTimeout","infoPrinted","worker","Worker","require","onRestart","_method","path","attempts","warn","maxRetries","numWorkers","enableWorkerThreads","workerThreads","exposedMethods","default","dir","span","traceChild","traceFn","loadEnvConfig","traceAsyncFn","loadConfig","PHASE_EXPORT","distDir","join","telemetry","Telemetry","record","eventCliSession","webpackVersion","cliCommand","isSrcDir","hasNowJson","findUp","cwd","isCustomServer","turboFlag","pagesDir","appDir","subFolders","trailingSlash","buildIdFile","BUILD_ID_FILE","existsSync","customRoutes","filter","config","hasNextSupport","length","buildId","fs","readFile","pagesManifest","SERVER_DIRECTORY","PAGES_MANIFEST","prerenderManifest","PRERENDER_MANIFEST","appRoutePathManifest","APP_PATH_ROUTES_MANIFEST","err","isError","undefined","excludedPrerenderRoutes","Set","Object","keys","defaultPathMap","hasApiRoutes","page","isAPIRoute","dynamicRoutes","add","mapAppRouteToPage","Map","pageName","routePath","entries","set","isAppPageRoute","routes","_isAppDir","outDir","outdir","rm","recursive","force","mkdir","writeFile","EXPORT_DETAIL","formatManifest","version","outDirectory","success","recursiveCopy","CLIENT_STATIC_FILES_PATH","exportPathMap","defaultMap","i18n","images","loader","unoptimized","isNextImageImported","EXPORT_MARKER","then","JSON","parse","catch","serverActionsManifest","hasAppDir","SERVER_REFERENCE_MANIFEST","output","node","edge","renderOpts","previewProps","preview","nextExport","assetPrefix","replace","dev","basePath","canonicalBase","amp","ampSkipValidation","skipValidation","ampOptimizerConfig","optimizer","locales","locale","defaultLocale","domainLocales","domains","disableOptimizedLoading","supportsDynamicHTML","crossOrigin","optimizeCss","nextConfigOutput","nextScriptWorkers","optimizeFonts","largePageDataBytes","serverComponents","serverActionsBodySizeLimit","serverActions","bodySizeLimit","nextFontManifest","NEXT_FONT_MANIFEST","strictNextHead","deploymentId","ppr","serverRuntimeConfig","publicRuntimeConfig","runtimeConfig","globalThis","__NEXT_DATA__","exportMap","exportPaths","map","denormalizePagePath","normalizePagePath","filteredPaths","route","fallbackEnabledPages","prerenderInfo","fallback","size","SSG_FALLBACK_EXPORT_ERROR","hasMiddleware","middlewareManifest","MIDDLEWARE_MANIFEST","middleware","yellow","bold","progress","statusMessage","pagesDataDir","ampValidations","publicDir","CLIENT_PUBLIC_FILES_PATH","workers","results","all","pathMap","exportPage","pageExportSpan","setAttribute","ampValidatorPath","validator","parentSpanId","id","httpAgentOptions","debugOutput","isrMemoryCacheSize","fetchCache","fetchCacheKeyPrefix","incrementalCacheHandlerPath","enableExperimentalReact","needsExperimentalReact","errorPaths","renderError","hadValidationError","collector","byPath","byPage","ssgNotFoundPaths","validation","errors","get","revalidate","metadata","hasEmptyPrelude","hasPostponed","ssgNotFound","durations","durationsByPath","duration","endWorkerPromise","srcRoute","appPageName","isAppPath","Boolean","isAppRouteHandler","isAppRouteRoute","notFoundRoutes","includes","pagePath","getPagePath","distPagesDir","slice","split","orig","handlerSrc","handlerDest","dirname","copyFile","htmlDest","sep","ampHtmlDest","jsonDest","htmlSrc","jsonSrc","formatAmpMessages","sort","flush","nextExportSpan"],"mappings":"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"}